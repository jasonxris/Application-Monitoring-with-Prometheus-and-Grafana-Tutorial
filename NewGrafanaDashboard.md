# Create a New Grafana Dashboard


## Import a New Dashboard for Minecraft

_A Grafana dashboard is how Grafana displays the data. We are going to import a pre-made dashboard._

1. **Create a New dashboard** by clicking &quot;New dashboard&quot;

![](RackMultipart20200425-4-1dxjp97_html_abdde373fc8f6e19.png)

1. **Open the dashboard menu** by clicking the top left menu button and **select Import Dashboard**

![](RackMultipart20200425-4-1dxjp97_html_627dd6564f0632b5.png) ![](RackMultipart20200425-4-1dxjp97_html_a03ce844d4bd6255.png)

1. **Copy and Paste in the JSON text** found in this file: [https://drive.google.com/file/d/1MlHd9b5RCwo7kIdPT1SCEAXDbDiYWycE/view?usp=sharing](https://drive.google.com/file/d/1MlHd9b5RCwo7kIdPT1SCEAXDbDiYWycE/view?usp=sharing)

![](RackMultipart20200425-4-1dxjp97_html_df761d6e8964abe0.png)

1. Click -\&gt; Load
2. Click -\&gt; Import
3. Your dashboard should now look like the screenshot below:

![](RackMultipart20200425-4-1dxjp97_html_20b81363c4601a63.png)

1. This Grafana dashboard is now showing data that is being generated by your Minecraft server. Not a lot is happening on this dashboard. That is because not a lot is changing or happening on your Minecraft server.
  1. _(optional)_ If you have a Minecraft account, you can log in to your localhost server and interact with the server to get more interesting data
2. Compare the Grafana displays to the data being scraped from the Minecraft server at: [http://localhost:9225/metrics](http://localhost:9225/metrics)

## Create a New Entities Dashboard Panel for Minecraft

_You will now create your own Grafana dashboard. This dashboard will display the total number of Minecraft entities on your Minecraft server, and the total number of living Minecraft entities on your server. The data is already being collected by Prometheus and can be seen at_ [_http://localhost:9225/metrics_](http://localhost:9225/metrics) _as mc\_entities\_total and mc\_living\_entities\_total._

1. Click on the **Create New Panel** Button

![](RackMultipart20200425-4-1dxjp97_html_90d6ebb77e53dcf1.png)

1. Click **Add Query**

![](RackMultipart20200425-4-1dxjp97_html_94664c6ce0501822.png)

1. **Change Query** from default **to the name you gave your Prometheus Data Source, the default name is : Prometheus**
2. Select the metrics field and fill in mc\_ to see all the Minecraft metrics available
3. Select the mc\_entities\_total
4. We are now going to add another query to display on this panel.
5. **Click on the Add Query** button found in the panel menu, as shown in the screenshot below.

![](RackMultipart20200425-4-1dxjp97_html_62beda725f6729fe.png)

1. In the second Query field that was created , **type in mc\_living\_entities\_total**
2. **Click on the General tab** on the left and **change the title of the panel** from &quot;Panel Title&quot; to &quot;Entities&quot;

![](RackMultipart20200425-4-1dxjp97_html_467a65b2369fd214.png)

1. Click on your browser&#39;s back button to see the dashboard reflecting the changes you have made.
2. If everything is being imported correctly, the dashboard should look like the screenshot below

![](RackMultipart20200425-4-1dxjp97_html_cb33bb38b46c64e9.png)

_This dashboard is displaying more than just two sets of data. This is because mc\_living\_total has several subsections. By querying for mc\_living\_total, you are asking for_ _ **all** _ _of the mc\_living\_total data available._

## Clean up the Panel Key

_At this point you have a dashboard that displays the entities data, but the panel is not very clear. We are going to edit it to make the graph easier to read._

1. **Select the Entities panel** you just created
2. **Click Edit**
3. Each metric has identifiers as seen in the screenshot below:

![](RackMultipart20200425-4-1dxjp97_html_b8d7c2b77869255a.png)

  1. For this metric there are three
    1. **Instance:** identifies which IP address this metric is from
    2. **Job :** identifies which Prometheus job this metric is from
    3. **World :** identifies which Minecraft world this metric is from
1. We can use these identifiers in the dashboard&#39;s legend to make reading the data easier to read. We are going to use the world identifier.
2. Add **{{world}}** into the **legends** field in both the mc\_living\_entitied and mc\_entities\_total query.
  1. This will remove all the extra information in the dashboards legend. Showing only the world that the information is coming from.
3. Now we need to differentiate the living entities from the total entities
4. Replace _{{world}}_ with _{{world}}\_total_ in the mc\_entities\_total query&#39;s legend field.
5. Replace _{{world}}_ with _{{world}}_\_living in the mc\_living\_entities\_total query&#39;s legend field .
6. Back out and save the dashboard
7. **Take a screenshot of your whole dashboard to turn in**

## When Finished

After you have completed this tutorial:

1. Stop your Minecraft server, you will no longer need it
  1. You can do this by typing the following command into your minecraft terminal : _stop_
  2. Keep track of the dashboard screenshot to be turned in later
2. **Complete the Lab found below**

